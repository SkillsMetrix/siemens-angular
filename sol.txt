import { Component, OnInit, viewChild, ViewChild } from '@angular/core';
import { MatDialog } from '@angular/material/dialog';
import { EmpAddComponent } from './components/emp-add/emp-add.component';
import { EmpService } from './shared/emp.service';
import { MatPaginator } from '@angular/material/paginator'
import { MatTableDataSource } from '@angular/material/table';
import { MatSort } from '@angular/material/sort';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrl: './app.component.css'
})
export class AppComponent implements OnInit{
  displayedColumns: string[]=[
    'id','uname','email','doj','industry','gender'
  ]
  dataSource!: MatTableDataSource<any>
  @ViewChild(MatPaginator) paginator!: MatPaginator
  @ViewChild(MatSort) sort!: MatSort

 constructor(private dialog:MatDialog,private ds: EmpService){}
  openAddEditForm(){
  this.dialog.open(EmpAddComponent)
 }
 ngOnInit(): void {
     this.getEMpLIst()
 }
 getEMpLIst(){
  this.ds.loadUsers().subscribe((data:any)=>{
    this.dataSource= new MatTableDataSource(data)
    this.dataSource.sort=this.sort
    this.dataSource.paginator=this.paginator
    
    
   })
 }
 applyFilter(event:Event){
  const filterValue=(event.target as HTMLInputElement).value
  this.dataSource.filter=filterValue.trim().toLowerCase()

  if(this.dataSource.paginator){
    this.dataSource.paginator.firstPage()
  }
 }
}
------------


<mat-toolbar>

  <span>Angular CRUD App</span>
  <span class="example-spacer"></span>
  <button mat-raised-button (click)="openAddEditForm()">ADD User</button>
</mat-toolbar>

<hr>

<mat-form-field>
  <mat-label>Filter</mat-label>
  <input matInput type="text" (keyup)="applyFilter($event)" placeholder="Search Here" #input>
</mat-form-field>

<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource">

    <!-- Position Column -->
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let element"> {{element.position}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="weight">
      <th mat-header-cell *matHeaderCellDef> Weight </th>
      <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="symbol">
      <th mat-header-cell *matHeaderCellDef> Symbol </th>
      <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page of periodic elements">
  </mat-paginator>
</div>
